import{u as h,r as i,j as t,L as w,F as y,a as s,T as a,B as N}from"./index-f451df9c.js";import{b as v}from"./index-e0ffe7f6.js";const I=e=>{const m=h(),[o,f]=i.useState(""),[x,n]=i.useState(!1);return i.useEffect(()=>{(async()=>{const d={headers:{authorization:`Bearer ${localStorage.getItem("token")||""}`}};if(e.image&&e.image.url)try{n(!0);const r=(await v.get(`/api/admin/post/get-image/${e.image.publicID}`,{responseType:"blob",...d})).data,g=new File([r],"image",{type:r.type}),l=new FileReader;l.onload=()=>{const u=l.result;f(u)},l.readAsDataURL(g)}catch(c){console.error("There was an error fetching the image!",c)}finally{n(!1)}})()},[]),x?t(w,{}):t(y,{children:t("div",{className:e.className,children:s("div",{className:"flex flex-col items-center justify-start w-full p-2",children:[t("div",{className:"flex flex-row items-center justify-between w-full",children:s("div",{className:"flex flex-col items-start justify-start",children:[t(a,{className:"text-gray-900 text-xs",size:"txtManropeBold12",children:e==null?void 0:e.title.fr}),t(a,{className:"text-[11px] text-gray-500",size:"txtManropeRegular11Gray500",children:e==null?void 0:e.createdAt})]})}),t(a,{className:"leading-[20.00px] mt-[7px] text-gray-900 text-xs w-full",size:"txtManropeRegular12Gray900",children:(e==null?void 0:e.description.fr.length)>30?(e==null?void 0:e.description.fr.slice(0,30))+"...":e==null?void 0:e.description.fr}),t("img",{className:" md:h-auto mt-3 object-cover rounded-xl w-full h-full items-stretch ",alt:"imageTwentyTwo",src:o}),s("div",{className:"flex flex-row items-start justify-between mt-[17px] w-full",children:[t(N,{className:"common-pointer cursor-pointer font-manrope min-w-[134px] text-center text-xs",onClick:()=>m(`/singlepostpage?id=${e.id}`),shape:"round",color:"light_blue_900",size:"sm",variant:"fill",children:"voir plus"}),t("div",{className:" flex flex-row",children:t(a,{className:"ml-[5px] mt-0.5 text-gray-500 text-xs",size:"txtManropeRegular12Gray500",children:e==null?void 0:e.views})})]})]})})})};export{I as P};
