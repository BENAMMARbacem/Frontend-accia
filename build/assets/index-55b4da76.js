import{r as s,u as N,j as e,a,F as _,I as r,T as l,B as h,L as b,c as p,R as j}from"./index-f451df9c.js";import{P as E}from"./index-29c25e4f.js";import{f as v,a as S,b as w}from"./index-e0ffe7f6.js";function z(t){const[n,o]=s.useState(""),[c,d]=s.useState(!1);s.useEffect(()=>{(async()=>{d(!0);try{if(t.image&&t.image.url){const m=(await w.get(`/api/admin/event/get-image/${t.image.publicID}`,{responseType:"blob"})).data,g=new File([m],"image",{type:m.type}),u=new FileReader;u.onload=()=>{const y=u.result;o(y)},u.readAsDataURL(g)}}catch{}finally{d(!1)}})()},[]);const f=N();return c?e("div",{children:"Loading ..."}):a(_,{children:[a("div",{className:"flex flex-col gap-4",children:[e(r,{className:"flex font-manrope  max-w-[1099px] mt-4 mx-auto md:px-5 w-full",src:n,alt:"imageSixtyEight"}),a(l,{size:"txtManropeBold14",className:"flex font-manrope  max-w-[1099px] mt-2 mx-auto md:px-5 w-full text-light_blue-900 text-lg",children:[t==null?void 0:t.title.fr," "]})]}),a("div",{className:"grid grid-cols-3  lg:grid-cols-1 md:flex-col flex-row font-manrope gap-3.5 lg:gap-0 lg:gap-y-3.5 items-center justify-center max-w-[1096px] mt-2 mx-auto md:px-5 w-full",children:[e("div",{className:"bg-gray-50 flex md:flex-1 flex-col items-center justify-start p-4 rounded-lg w-full md:w-full",children:a("div",{className:"flex flex-col gap-[11px] items-start justify-start w-full",children:[e(l,{className:"text-light_blue-900 text-sm",size:"txtManropeBold14",children:"Date et Horaire"}),a("div",{className:"flex flex-row items-start justify-between w-full",children:[a("div",{className:"flex",children:[e(r,{className:"h-4 w-4",src:"images/img_clock1.svg",alt:"clockOne"}),a(l,{className:"ml-1 text-blue_gray-900 text-xs",size:"txtManropeRegular12",children:[t.H_Start?v(t.H_Start):"","-"," ",t.H_Fin?v(t.H_Fin):""]})]}),a("div",{className:"flex",children:[e(r,{className:"h-4 ml-[31px] w-4",src:"images/img_clock1_blue_gray_500.svg",alt:"clockOne_One"}),a(l,{className:"ml-1 text-blue_gray-900 text-xs",size:"txtManropeRegular12",children:[t.date?S(t.date):""," "]})]})]}),a("div",{className:"flex flex-row items-start justify-start w-2/3",children:[e(r,{className:"h-4 w-4",src:"images/img_pin31_blue_gray_500_16x16.svg",alt:"pinThirtyOne"}),a(l,{className:"ml-1 text-blue_gray-900 text-xs",size:"txtManropeRegular12",children:[t.Location?t.Location:""," "]})]}),a("div",{className:"flex flex-row  gap-1.5 items-center justify-end md:ml-[0]  w-full",children:[e("div",{className:"flex flex-col items-center justify-start w-1/2 ",children:e(h,{className:"common-pointer border border-light_blue-900 border-solid cursor-pointer flex items-center justify-center min-w-[80px] rounded-[12px]",onClick:()=>{t._id&&f(`/singleeventpage?id=${t._id}`,{state:{...t,imageUrl:n}})},leftIcon:e(r,{className:"h-4 mb-px mr-1",src:"images/img_view.svg",alt:"View"}),color:"white_A700",size:"xs",variant:"fill",children:e("div",{className:"text-[11px] text-left",children:"Voir plus"})})}),e("div",{className:"flex flex-col items-center justify-start w-1/2",children:e(h,{className:"cursor-pointer flex items-center justify-center min-w-[82px] rounded-[12px]",leftIcon:e(r,{className:"h-4 mb-px mr-1",src:"images/img_bag.svg",alt:"bag"}),color:"light_blue_900_01",size:"xs",variant:"fill",children:e("div",{className:"text-[11px] text-left",children:"Reserver"})})})]})]})}),a("div",{className:" col-span-2 bg-gray-50 flex flex-col gap-[9px] items-start justify-start p-4 rounded-lg h-full",children:[e(l,{className:"text-light_blue-900 text-sm",size:"txtManropeBold14",children:"Details"}),a(l,{className:"leading-[20.00px] mb-1 text-blue_gray-900 text-xs w-full",size:"txtManropeRegular12",children:[t.description?t.description.fr:""," "]})]})]})]})}const I=()=>{const[t,n]=s.useState([]),[o,c]=s.useState(!1),[d,f]=s.useState();return s.useEffect(()=>{(async()=>{c(!0);try{const m={headers:{authorization:`Bearer ${localStorage.getItem("token")||""}`}},g=await w.get("/api/admin/event",m);n(g.data)}catch(i){f(i)}finally{c(!1)}})()},[]),o?e(b,{}):a("div",{className:"bg-white-A700 flex flex-col items-center justify-start mx-auto w-full",children:[a("div",{className:"flex flex-col justify-start w-full",children:[e(E,{title:"Tous les evenements"}),e("div",{className:"flex flex-col gap-4",children:t.map((x,i)=>e(p.Fragment,{children:e(z,{...x})},`EventCardSection${i}`))})]}),e(j,{path:"/"})]})};export{I as default};
